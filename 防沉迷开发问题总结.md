最近开发的防沉迷系统总算是在没有太大问题的情况下上线了，上线之后也比较稳定，没有影响组使用。但是在这次开发过程中，也暴露了一些问题，下面总结一下。
## 过度设计
在设计之初，存在过度设计的问题，无故增加了开发和测试的复杂度。主要有以下几点：
- 没有必要考虑多账号共享同一身份证问题
    - 文档并未要求，是我们自己讨论认为应该这么实现。
    - 复杂度成倍上升。
- 没有必要考虑登陆、离线推送失败问题
    - 推送失败的概率很低。
    - 即使推送失败，对业务的影响也很小。
    - 即便考虑了部分推送失败问题，也还有更多极端情况无法考虑到，所以不是完美的异常考虑机制。
    - 实现复杂度相比不考虑失败问题，提高一大截。

后来把上面两个问题解决掉之后，相应的逻辑处理就很清晰，也方便测试。

## 流程问题
这次在我和项目组对过概要设计之后，我就开始了开发、测试的流程，完成之后就告知项目组接入。但是后面在和项目组对接的时候，存在部分接口不合理的情况，主要有以下几种：
- 部分参数项目组拿不到
- 部分接口返回的状态不全，项目组需要更多的状态码
- 部分接口的使用场景和项目组预期不符合，设计是通过同步访问，但项目组只能异步访问。
- 部分接口冗余，项目组需要将多个接口的返回放在一个接口里面，从而避免多次调用，增加开销。

后面就是我和项目组边沟通，边修改各个接口，这大大增加了时间开销，导致后面时间比较紧张。

## 总结
- 不要过度设计，最好的设计永远是越简单越好，把握核心功能，保证核心功能没问题才是最该考虑的事情。
- 开发的产品如果会涉及多方参与时，尽可能按照：`概要设计-讨论-详细设计-讨论-实现交付`的工作流程来实施，从而避免不必要的重复工作。